# FreeRTOS

# 1.消息传递详解

## 1.1.消息队列

消息队列空间 == 消息队列属性空间 （静态固定）+ 缓冲区空间（动态可变）

## 1.2.信号量

### 1.2.1.二值信号量

同一个任务又是获取又是释放即当互斥锁来使用的话，会出现优先级反转的情况

### 1.2.2.计数信号量

类似于带缓冲区的线程同步的PV操作

### 1.2.3.互斥信号量

解决专门用于一个任务中当互斥锁的优先级反转问题，其机制会提高已经获得信号量的任务的优先级来抑制优先级反转。

即优先级1，2，3，4，5分别取获取，1先获取到，5再获取被阻塞，如果此时2，3来了，且可能会在1执行完后正好在时间片轮转的时间范围内，会得到锁，从而让5继续等待。但互斥信号量会提升任务优先级1为优先级5，故优先级低的不能获取优先级高的锁，从而抑制了优先级反转。

### 1.2.4.递归信号量

任务1获取释放信号量A，任务2也获取释放信号量A，但任务2获取信号量A后，再调用任务1，总体来看任务2获取了两次信号量。这本来是不允许的，但递归信号量却运行。

## 1.3.事件标准组

用于任务同步。任务![image-20241012110851647](C:\Users\z3254406361\AppData\Roaming\Typora\typora-user-images\image-20241012110851647.png)

## 1.4.任务通知

![image-20241012111115932](C:\Users\z3254406361\AppData\Roaming\Typora\typora-user-images\image-20241012111115932.png)

![image-20241012111333321](C:\Users\z3254406361\AppData\Roaming\Typora\typora-user-images\image-20241012111333321.png)